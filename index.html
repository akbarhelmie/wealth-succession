<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Succession Atlas | Global Strategy Dashboard</title>

    <script src="https://cdn.tailwindcss.com"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Roboto+Mono:wght@400;500&display=swap" rel="stylesheet">

    <script type="text/javascript" src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #050810;
            color: #d1d5db;
            overflow: hidden; /* Prevent scrolling of the whole page */
        }
        .font-mono {
            font-family: 'Roboto Mono', monospace;
        }
        .glass-pane {
            background-color: rgba(17, 24, 39, 0.75);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .glow-border {
            box-shadow: 0 0 2px rgba(59, 130, 246, 0.5), 0 0 5px rgba(59, 130, 246, 0.3);
        }
        #knowledge-graph {
            width: 100%;
            height: 100%;
            border: none;
        }
        .data-panel {
            animation: slideIn 0.5s ease-out forwards;
        }
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        .data-panel-hidden {
            display: none;
        }
        .blinking-cursor {
            animation: blink 1s step-end infinite;
        }
        @keyframes blink {
            from, to { border-color: transparent }
            50% { border-color: #3b82f6; }
        }
        .data-stream-item {
            animation: fadeInAndScroll 10s linear infinite;
        }
        @keyframes fadeInAndScroll {
            0% { opacity: 0; transform: translateY(20px); }
            10%, 90% { opacity: 1; transform: translateY(0); }
            100% { opacity: 0; transform: translateY(-20px); }
        }
    </style>
</head>
<body class="antialiased">

    <div class="flex h-screen w-screen flex-col">
        <header class="flex-shrink-0 glass-pane z-20 border-b border-gray-800">
            <div class="container mx-auto px-4 py-3 flex justify-between items-center">
                <div class="flex items-center space-x-3">
                    <svg class="w-7 h-7 text-blue-400" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 2L2 7V17L12 22L22 17V7L12 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M2 7L12 12L22 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M12 22V12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
                    <h1 class="text-xl font-bold text-white">Succession Atlas | Global Strategy Dashboard</h1>
                </div>
                <div class="font-mono text-sm text-blue-300">
                    STATUS: <span class="text-green-400 font-semibold">LIVE</span> // CLASSIFICATION: <span class="text-yellow-400">STRATEGIC</span>
                </div>
            </div>
        </header>

        <main class="flex-grow flex flex-row overflow-hidden">

            <aside class="w-1/4 xl:w-1/5 flex-shrink-0 p-4 overflow-y-auto border-r border-gray-800 glass-pane z-10">
                <h2 class="text-lg font-semibold text-white mb-4">Market & Philosophy Vectors</h2>
                <div class="space-y-6">
                    <div>
                        <h3 class="text-sm font-medium text-blue-300 mb-2">Dominant Investment Philosophies</h3>
                        <div class="space-y-3">
                            <div class="font-mono text-xs">
                                <div class="flex justify-between"><span>Disruptive Innovation</span><span>35%</span></div>
                                <div class="w-full bg-gray-700 rounded-full h-1.5"><div class="bg-purple-500 h-1.5 rounded-full" style="width: 35%"></div></div>
                            </div>
                            <div class="font-mono text-xs">
                                <div class="flex justify-between"><span>Value & Quality</span><span>25%</span></div>
                                <div class="w-full bg-gray-700 rounded-full h-1.5"><div class="bg-green-500 h-1.5 rounded-full" style="width: 25%"></div></div>
                            </div>
                            <div class="font-mono text-xs">
                                <div class="flex justify-between"><span>Decentralization / Web3</span><span>20%</span></div>
                                <div class="w-full bg-gray-700 rounded-full h-1.5"><div class="bg-yellow-500 h-1.5 rounded-full" style="width: 20%"></div></div>
                            </div>
                             <div class="font-mono text-xs">
                                <div class="flex justify-between"><span>Global Macro</span><span>12%</span></div>
                                <div class="w-full bg-gray-700 rounded-full h-1.5"><div class="bg-cyan-500 h-1.5 rounded-full" style="width: 12%"></div></div>
                            </div>
                             <div class="font-mono text-xs">
                                <div class="flex justify-between"><span>Diversified Indexing</span><span>8%</span></div>
                                <div class="w-full bg-gray-700 rounded-full h-1.5"><div class="bg-sky-500 h-1.5 rounded-full" style="width: 8%"></div></div>
                            </div>
                        </div>
                    </div>
                     <div>
                        <h3 class="text-sm font-medium text-blue-300 mb-2">Geopolitical & Market Sentiment</h3>
                         <div class="p-3 bg-black bg-opacity-20 rounded-lg font-mono text-xs text-green-400">
                             <div id="data-stream" class="h-24 relative overflow-hidden">
                                 </div>
                         </div>
                    </div>
                    <div>
                        <h3 class="text-sm font-medium text-blue-300 mb-2">Monitored Assets</h3>
                         <ul class="font-mono text-xs space-y-2">
                             <li class="flex justify-between items-center">
                                 <span>NVIDIA</span><span class="text-green-400">+3.41%</span>
                             </li>
                             <li class="flex justify-between items-center">
                                 <span>APPLE</span><span class="text-green-400">+1.09%</span>
                             </li>
                             <li class="flex justify-between items-center">
                                 <span>OPENAI (Private)</span><span class="text-gray-400">VALUATION STABLE</span>
                             </li>
                              <li class="flex justify-between items-center">
                                 <span>SPACEX (Private)</span><span class="text-green-400">NEW LAUNCH</span>
                             </li>
                              <li class="flex justify-between items-center">
                                 <span>TESLA</span><span class="text-red-400">-1.58%</span>
                             </li>
                              <li class="flex justify-between items-center">
                                 <span>BITCOIN</span><span class="text-red-400">-2.75%</span>
                             </li>
                         </ul>
                    </div>
                </div>
            </aside>

            <section class="flex-grow relative bg-black bg-opacity-20">
                <div id="knowledge-graph"></div>
                <div id="graph-loader" class="absolute inset-0 flex flex-col items-center justify-center bg-black bg-opacity-50 z-10">
                    <p class="text-blue-300 font-mono">Initializing Knowledge Graph...</p>
                    <p class="text-gray-400 font-mono text-sm">Mapping nodes and vectors...</p>
                </div>
            </section>

            <aside id="data-panel-container" class="w-1/3 xl:w-1/4 flex-shrink-0 border-l border-gray-800 z-10 data-panel-hidden">
                <div id="data-panel" class="h-full p-4 overflow-y-auto glass-pane">
                    <div id="data-panel-content">
                         </div>
                    <div id="data-panel-placeholder" class="h-full flex flex-col items-center justify-center text-center text-gray-500">
                       <svg class="w-16 h-16 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        <h3 class="font-semibold text-lg text-gray-400">No Node Selected</h3>
                        <p class="font-mono text-xs mt-2">Click a node in the graph to view its strategic profile and connections.</p>
                    </div>
                </div>
            </aside>

        </main>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {

        const nodes = [
            // Visionaries (Investors/Firms)
            { id: 1, label: 'Berkshire Hathaway', group: 'person', title: 'Warren Buffett - Value Investing', mass: 20 },
            { id: 2, label: 'ARK Invest', group: 'person', title: 'Cathie Wood - Disruptive Innovation', mass: 18 },
            { id: 3, label: 'a16z', group: 'person', title: 'Andreessen Horowitz - Venture Capital', mass: 18 },
            { id: 4, label: 'Sequoia', group: 'person', title: 'Sequoia Capital - Venture Capital', mass: 18 },
            { id: 5, label: 'Founders Fund', group: 'person', title: 'Peter Thiel - Contrarian Tech', mass: 15 },
            { id: 6, label: 'Bridgewater', group: 'person', title: 'Ray Dalio - Global Macro', mass: 15 },
            { id: 7, label: 'BlackRock', group: 'person', title: 'Global Asset Manager', mass: 22 },
            { id: 8, label: 'Tiger Global', group: 'person', title: 'Growth Equity', mass: 15 },

            // Philosophies
            { id: 101, label: 'Value & Quality', group: 'philosophy', title: 'Invest in great companies at fair prices with a long-term horizon.', mass: 10 },
            { id: 102, label: 'Disruptive Innovation', group: 'philosophy', title: 'Invest in technologies like AI, robotics, and blockchain that will change the world.', mass: 10 },
            { id: 103, label: 'Web3 & Decentralization', group: 'philosophy', title: 'Software is eating the world; focus on crypto, decentralization, and the future of the internet.', mass: 10 },
            { id: 104, label: 'Contrarian & Deep Tech', group: 'philosophy', title: 'Invest in founders solving hard, non-obvious problems that can create new industries.', mass: 10 },
            { id: 105, label: 'Global Macro', group: 'philosophy', title: 'Systematic, data-driven investment based on global economic trends.', mass: 10 },
            { id: 106, label: 'Diversified Indexing', group: 'philosophy', title: 'Market-cap weighted exposure to broad markets; belief in market efficiency.', mass: 10 },

            // Companies (Top Tier Investments)
            { id: 201, label: 'Apple', group: 'company', title: 'Consumer Electronics & Services', mass: 8 },
            { id: 202, label: 'Microsoft', group: 'company', title: 'Software, Cloud & AI', mass: 8 },
            { id: 203, label: 'NVIDIA', group: 'company', title: 'AI Hardware & Systems', mass: 8 },
            { id: 204, label: 'OpenAI', group: 'company', title: 'AI Research & Products (GPT)', mass: 6 },
            { id: 205, label: 'SpaceX', group: 'company', title: 'Aerospace & Communications', mass: 6 },
            { id: 206, label: 'Tesla', group: 'company', title: 'EVs, Energy & AI', mass: 7 },
            { id: 207, label: 'Stripe', group: 'company', title: 'Digital Payments Infrastructure', mass: 6 },
            { id: 208, label: 'Databricks', group: 'company', title: 'Enterprise AI & Data Platform', mass: 6 },
            { id: 209, label: 'Coinbase', group: 'company', title: 'Cryptocurrency Exchange', mass: 6 },
            { id: 210, label: 'Anduril', group: 'company', title: 'Defense Technology', mass: 5 },
            { id: 211, label: 'Ethereum', group: 'company', title: 'Programmable Blockchain', mass: 7 },
            { id: 212, label: 'Amazon', group: 'company', title: 'E-commerce & Cloud Computing', mass: 8},
            { id: 213, label: 'Meta', group: 'company', title: 'Social Media & Metaverse', mass: 7}
        ];

        const edges = [
            // Visionary -> Philosophy
            { from: 1, to: 101, label: 'Adheres to', dashes: true },
            { from: 2, to: 102, label: 'Adheres to', dashes: true },
            { from: 3, to: 103, label: 'Adheres to', dashes: true },
            { from: 4, to: 102, label: 'Adheres to', dashes: true }, 
            { from: 5, to: 104, label: 'Adheres to', dashes: true },
            { from: 6, to: 105, label: 'Adheres to', dashes: true },
            { from: 7, to: 106, label: 'Adheres to', dashes: true },
            { from: 8, to: 102, label: 'Adheres to', dashes: true },

            // Berkshire Hathaway Investments
            { from: 1, to: 201, label: 'Major Holding' },
            { from: 1, to: 212, label: 'Major Holding' },

            // ARK Invest Investments
            { from: 2, to: 206, label: 'High Conviction' },
            { from: 2, to: 209, label: 'High Conviction' },
            { from: 2, to: 213, label: 'High Conviction' },

            // a16z Investments
            { from: 3, to: 204, label: 'Investor' },
            { from: 3, to: 208, label: 'Investor' },
            { from: 3, to: 209, label: 'Early Investor' },
            { from: 3, to: 211, label: 'Proponent' },
            { from: 3, to: 207, label: 'Investor'},
            { from: 3, to: 210, label: 'Investor'},


            // Sequoia Investments
            { from: 4, to: 203, label: 'Early Investor' },
            { from: 4, to: 207, label: 'Investor' },
            { from: 4, to: 208, label: 'Investor' },
            
            // Founders Fund Investments
            { from: 5, to: 205, label: 'Early Investor' },
            { from: 5, to: 210, label: 'Lead Investor' },
            { from: 5, to: 207, label: 'Early Investor' },

            // BlackRock / Diversified Holdings
            { from: 7, to: 201, label: 'Top Holding' },
            { from: 7, to: 202, label: 'Top Holding' },
            { from: 7, to: 203, label: 'Top Holding' },
            { from: 7, to: 212, label: 'Top Holding' },
            { from: 7, to: 213, label: 'Top Holding' },


            // Tiger Global Investments
            { from: 8, to: 207, label: 'Lead Investor'},
            { from: 8, to: 208, label: 'Lead Investor'},
            { from: 8, to: 213, label: 'Investor'},


            // Company -> Philosophy Alignment (Implied)
            { from: 203, to: 102, dashes: true, color: { color: '#6b7280' } }, // NVIDIA -> Disruptive Innovation
            { from: 204, to: 102, dashes: true, color: { color: '#6b7280' } }, // OpenAI -> Disruptive Innovation
            { from: 206, to: 102, dashes: true, color: { color: '#6b7280' } }, // Tesla -> Disruptive Innovation
            { from: 209, to: 103, dashes: true, color: { color: '#6b7280' } }, // Coinbase -> Web3
            { from: 211, to: 103, dashes: true, color: { color: '#6b7280' } }, // Ethereum -> Web3
            { from: 205, to: 104, dashes: true, color: { color: '#6b7280' } }, // SpaceX -> Deep Tech
            { from: 210, to: 104, dashes: true, color: { color: '#6b7280' } }, // Anduril -> Deep Tech
            { from: 201, to: 101, dashes: true, color: { color: '#6b7280' } }, // Apple -> Value & Quality
            { from: 212, to: 101, dashes: true, color: { color: '#6b7280' } }, // Amazon -> Value & Quality
            { from: 202, to: 106, dashes: true, color: { color: '#6b7280' } }, // Microsoft -> Diversified
        ];
        
        const nodeDetails = {
            1: {
                name: 'Berkshire Hathaway',
                type: 'Conglomerate / Value Investor',
                description: 'Led by Warren Buffett, Berkshire Hathaway is a multinational conglomerate that wholly owns and holds major stakes in a diverse range of companies. Its investment philosophy is rooted in deep value, seeking out high-quality, durable companies ("moats") at fair prices.',
                primary_philosophy: 'Value & Quality',
                major_holdings: 'Apple, Bank of America, American Express, Coca-Cola, Chevron, Amazon'
            },
            2: {
                name: 'ARK Invest',
                type: 'Asset Manager / Growth Investor',
                description: 'Founded by Cathie Wood, ARK Invest focuses exclusively on disruptive innovation. Their actively managed ETFs target technologies like artificial intelligence, DNA sequencing, robotics, energy storage, and blockchain technology.',
                primary_philosophy: 'Disruptive Innovation',
                major_holdings: 'Tesla, Coinbase, Roku, Block Inc., Zoom, Palantir'
            },
            3: {
                name: 'Andreessen Horowitz (a16z)',
                type: 'Venture Capital',
                description: 'A prominent Silicon Valley venture capital firm that invests from seed to late-stage. Known for its thesis-driven approach, particularly "Software is Eating the World," and its major push into Web3 and crypto technologies.',
                primary_philosophy: 'Web3 & Decentralization',
                notable_investments: 'OpenAI, Databricks, Stripe, Coinbase, Roblox, Anduril'
            },
            4: {
                name: 'Sequoia Capital',
                type: 'Venture Capital',
                description: 'One of the most legendary venture capital firms, Sequoia has a track record of backing iconic technology companies from their earliest stages. They focus on all sectors, with a strong emphasis on enterprise software, AI, and fintech.',
                primary_philosophy: 'Disruptive Innovation',
                notable_investments: 'NVIDIA, Stripe, Databricks, Snowflake, DoorDash, OpenAI'
            },
            5: {
                name: 'Founders Fund',
                type: 'Venture Capital',
                description: 'A contrarian venture capital firm led by Peter Thiel. Founders Fund invests in companies tackling massive, difficult problems in "atoms" as well as "bits," backing ambitious deep technology in areas like aerospace, AI, and national security.',
                primary_philosophy: 'Contrarian & Deep Tech',
                notable_investments: 'SpaceX, Anduril, Stripe, Palantir, Neuralink'
            },
            6: {
                name: 'Bridgewater Associates',
                type: 'Hedge Fund / Global Macro',
                description: 'Founded by Ray Dalio, Bridgewater is one of the world\'s largest hedge funds. It operates as a "global macro firm," employing quantitative methods to construct portfolios with uncorrelated returns based on macroeconomic and geopolitical trends.',
                primary_philosophy: 'Global Macro',
                strategy: 'Systematic diversification, Alpha/Beta separation, Risk Parity'
            },
            7: {
                name: 'BlackRock',
                type: 'Global Asset Manager',
                description: 'The world\'s largest asset manager, led by Larry Fink. BlackRock provides a vast range of investment and technology solutions, from iShares ETFs that track market indices to active management strategies. Their scale gives them significant influence on corporate governance.',
                primary_philosophy: 'Diversified Indexing & Long-Termism',
                AUM: '$10.5 Trillion+',
                key_products: 'iShares ETFs, Aladdin (Risk Management Platform)'
            },
            8: {
                name: 'Tiger Global',
                type: 'Hedge Fund / Growth Equity',
                description: 'Led by Chase Coleman, Tiger Global employs a high-growth investing philosophy, focusing on public and private tech companies. They are known for rapid, large-scale investments in startups with a venture capital-like approach to growth equity.',
                primary_philosophy: 'Disruptive Innovation & Global Growth',
                notable_investments: 'Meta, Microsoft, Sea Ltd, Coupang, Wiz, Databricks'
            },
            101: {
                name: 'Value & Quality Investing',
                type: 'Philosophy',
                description: 'An investment paradigm that involves buying securities that appear underpriced by some form of fundamental analysis. Proponents seek high-quality businesses with durable competitive advantages (a "moat") and aim to hold them for the long term.',
                proponents: 'Berkshire Hathaway, many traditional funds',
                linked_assets: 'Apple, Amazon, Coca-Cola'
            },
            102: {
                name: 'Disruptive Innovation',
                type: 'Philosophy',
                description: 'A strategy focused on identifying and investing in companies that are creating new markets or disrupting existing ones with technological advancements. This approach carries higher risk but aims for exponential growth.',
                proponents: 'ARK Invest, Sequoia, Tiger Global',
                linked_tech: 'AI, Genomics, Robotics, EV'
            },
            103: {
                name: 'Web3 & Decentralization',
                type: 'Philosophy',
                description: 'An investment thesis centered on the belief that blockchain technology and decentralization will form the architecture of the next era of the internet. It covers everything from cryptocurrencies to DAOs and decentralized applications.',
                proponents: 'a16z, Paradigm, Union Square Ventures',
                linked_assets: 'Ethereum, Bitcoin, Coinbase, DeFi Protocols'
            },
            104: {
                name: 'Contrarian & Deep Tech',
                type: 'Philosophy',
                description: 'A strategy of investing against prevailing market sentiment ("be greedy when others are fearful") and backing companies solving fundamental, difficult scientific and engineering problems. This philosophy targets industries with high technical risk but transformative potential.',
                proponents: 'Founders Fund (Peter Thiel)',
                linked_tech: 'Aerospace, Fusion Energy, AI, Defense Tech, Biotech'
            },
            105: {
                name: 'Global Macro',
                type: 'Philosophy',
                description: 'An investment strategy based on the analysis and forecasting of large-scale geopolitical and economic events. It involves taking opportunistic, often leveraged, positions in currency, interest rate, commodity, or equity markets worldwide.',
                proponents: 'Bridgewater Associates (Ray Dalio), Soros Fund Management',
                linked_instruments: 'Sovereign Debt, Currencies, Indices'
            },
            106: {
                name: 'Diversified Indexing',
                type: 'Philosophy',
                description: 'A passive investment strategy that aims to replicate the performance of a broad market index (e.g., S&P 500). It is based on the principle of market efficiency, seeking to capture market-wide returns at a low cost rather than trying to outperform the market.',
                proponents: 'BlackRock, Vanguard Group',
                linked_products: 'ETFs (e.g., iShares, VOO), Mutual Funds'
            },
            201: {
                name: 'Apple Inc.',
                type: 'Company / Consumer Technology',
                description: 'Designs, manufactures, and markets smartphones, personal computers, tablets, wearables, and accessories worldwide. Its ecosystem of hardware, software (iOS), and services is a core holding for value and quality investors.',
                market_cap: '~$3 Trillion',
                sector: 'Technology',
                key_investors: 'Berkshire Hathaway, BlackRock, Vanguard'
            },
            202: {
                name: 'Microsoft Corp.',
                type: 'Company / Software & Cloud',
                description: 'A dominant force in enterprise and consumer software, cloud computing (Azure), and a pivotal player in AI through its own development and strategic partnership with OpenAI. A key holding for broad market index funds.',
                market_cap: '~$3.5 Trillion',
                sector: 'Technology / AI',
                key_investors: 'BlackRock, Vanguard, Fidelity'
            },
            203: {
                name: 'NVIDIA Corporation',
                type: 'Company / AI Hardware',
                description: 'The dominant provider of graphics processing units (GPUs) which are the essential hardware backbone for training and running artificial intelligence models. Their central role in the AI revolution has driven massive growth.',
                market_cap: '~$3 Trillion',
                sector: 'Artificial Intelligence',
                key_investors: 'Sequoia, BlackRock, Vanguard'
            },
            204: {
                name: 'OpenAI',
                type: 'Company / AI Research',
                description: 'An AI research and deployment company. Its mission is to ensure that artificial general intelligence (AGI) benefits all of humanity. Creator of the groundbreaking GPT series of models and DALL-E.',
                valuation: '$80-90 Billion (Private)',
                sector: 'Artificial Intelligence',
                key_investors: 'Microsoft, a16z, Sequoia, Khosla Ventures'
            },
            205: {
                name: 'SpaceX',
                type: 'Company / Aerospace',
                description: 'Designs, manufactures, and launches advanced rockets and spacecraft. The company was founded by Elon Musk to revolutionize space technology, with the ultimate goal of enabling people to live on other planets.',
                valuation: '~$180 Billion (Private)',
                sector: 'Aerospace & Defense',
                key_investors: 'Founders Fund, Google, Fidelity, David Sacks'
            },
            206: {
                name: 'Tesla, Inc.',
                type: 'Company / EV & Energy',
                description: 'Designs, manufactures, and sells high-performance electric vehicles, energy generation and storage systems. A key holding for investors focused on disruptive innovation in automotive, energy, and AI.',
                market_cap: '~$580 Billion',
                sector: 'Automotive / AI',
                key_investors: 'ARK Invest, The Vanguard Group, BlackRock'
            },
            207: {
                name: 'Stripe',
                type: 'Company / Fintech',
                description: 'Builds economic infrastructure for the internet. Businesses of all sizes use its software to accept payments and manage their businesses online. A key player in the digital economy.',
                valuation: '$65 Billion (Private)',
                sector: 'Fintech',
                key_investors: 'a16z, Sequoia, Founders Fund, Tiger Global'
            },
            208: {
                name: 'Databricks',
                type: 'Company / Enterprise AI',
                description: 'A data and AI company that provides a unified "Data Lakehouse" platform for data engineering, machine learning, and analytics. A critical tool for large enterprises deploying AI.',
                valuation: '$43 Billion (Private)',
                sector: 'Artificial Intelligence',
                key_investors: 'a16z, Tiger Global, Sequoia, Microsoft'
            },
            209: {
                name: 'Coinbase',
                type: 'Company / Crypto Exchange',
                description: 'Operates a leading cryptocurrency exchange platform. A key gateway for retail and institutional investors to the Web3 economy. A pivotal investment for firms with a decentralization thesis.',
                market_cap: '~$60 Billion',
                sector: 'Fintech / Web3',
                key_investors: 'a16z, Ribbit Capital, Union Square Ventures, ARK Invest'
            },
            210: {
                name: 'Anduril Industries',
                type: 'Company / Defense Tech',
                description: 'A defense technology company that builds AI-powered hardware and software to solve complex national security challenges. Focuses on autonomous systems, drones, and command & control platforms.',
                valuation: '$8.5 Billion (Private)',
                sector: 'Aerospace & Defense',
                key_investors: 'Founders Fund, a16z, General Catalyst'
            },
            211: {
                name: 'Ethereum',
                type: 'Technology / Blockchain',
                description: 'An open-source, decentralized blockchain platform that features smart contract functionality. It enables the creation of decentralized applications (dApps) and non-fungible tokens (NFTs), forming the backbone of DeFi and Web3.',
                market_cap: '~$450 Billion',
                sector: 'Web3',
                proponents: 'a16z, ConsenSys, Ethereum Foundation'
            },
            212: {
                name: 'Amazon',
                type: 'Company / E-commerce & Cloud',
                description: 'A global leader in e-commerce, but also the dominant player in cloud infrastructure through Amazon Web Services (AWS), which provides the computing backbone for countless startups and enterprises.',
                market_cap: '~$1.9 Trillion',
                sector: 'Technology / Cloud',
                key_investors: 'Berkshire Hathaway, BlackRock, Vanguard'
            },
            213: {
                name: 'Meta Platforms',
                type: 'Company / Social Media & Metaverse',
                description: 'Owns a family of social media applications including Facebook, Instagram, and WhatsApp. Making significant investments in developing the metaverse and advancing open-source AI with its Llama models.',
                market_cap: '~$1.2 Trillion',
                sector: 'Technology / AI',
                key_investors: 'BlackRock, Vanguard, Tiger Global, ARK Invest'
            }
        };


        // --- DOM Elements ---
        const container = document.getElementById('knowledge-graph');
        const loader = document.getElementById('graph-loader');
        const dataPanelContainer = document.getElementById('data-panel-container');
        const dataPanelContent = document.getElementById('data-panel-content');
        const dataPanelPlaceholder = document.getElementById('data-panel-placeholder');
        
        // --- Knowledge Graph Initialization ---
        const data = { nodes, edges };
        const options = {
            nodes: {
                shape: 'dot',
                font: { color: '#ffffff', size: 14, face: 'Inter' },
                borderWidth: 2,
            },
            edges: {
                width: 1.5,
                color: {
                    color: '#4b5563',
                    highlight: '#3b82f6',
                },
                arrows: {
                    to: { enabled: true, scaleFactor: 0.6, type: 'arrow' }
                },
                font: {
                    color: '#9ca3af',
                    size: 10,
                    align: 'top'
                },
            },
            physics: {
                solver: 'forceAtlas2Based',
                forceAtlas2Based: {
                    gravitationalConstant: -100,
                    centralGravity: 0.01,
                    springLength: 250,
                    springConstant: 0.09,
                    avoidOverlap: 0.7
                },
                minVelocity: 0.75,
                stabilization: { iterations: 150 }
            },
            interaction: {
                hover: true,
                tooltipDelay: 200,
            },
            groups: {
                person: { color: { background: '#ec4899', border: '#f9a8d4' }, size: 25 },
                philosophy: { color: { background: '#8b5cf6', border: '#c4b5fd' }, shape: 'square', size: 20 },
                company: { color: { background: '#10b981', border: '#6ee7b7' }, shape: 'dot', size: 15 },
            }
        };

        const network = new vis.Network(container, data, options);

        network.on('stabilizationDidStraighten', () => {
            setTimeout(() => {
                loader.style.opacity = '0';
                setTimeout(() => { loader.style.display = 'none'; }, 500);
            }, 500);
        });

        // --- Interactivity ---
        network.on('click', (params) => {
            if (params.nodes.length > 0) {
                const nodeId = params.nodes[0];
                displayNodeDetails(nodeId);
            } else {
                hideNodeDetails();
            }
        });

        function displayNodeDetails(nodeId) {
            const details = nodeDetails[nodeId];
            if (!details) { 
                hideNodeDetails();
                return;
            }

            let html = `
                <h3 class="text-2xl font-bold text-white mb-1">${details.name}</h3>
                <p class="text-sm font-mono text-blue-300 mb-6">${details.type}</p>
                <p class="text-gray-300 mb-6">${details.description}</p>
                <div class="border-t border-gray-700 pt-4">
                    <h4 class="text-sm font-medium text-blue-300 mb-3">Profile Data</h4>
                    <ul class="font-mono text-xs space-y-2 text-gray-400">
            `;
            
            for(const [key, value] of Object.entries(details)) {
                if (['name', 'type', 'description'].includes(key)) continue;
                let displayKey = key.replace(/_/g, ' ').replace(/\b\w/g, l => l.toUpperCase());
                let displayValue = Array.isArray(value) ? value.join(', ') : value;
                html += `<li class="flex justify-between"><span class="flex-shrink-0 mr-4">${displayKey}</span><span class="text-white text-right break-all">${displayValue}</span></li>`;
            }

            html += `</ul></div>`;
            
            dataPanelContent.innerHTML = html;
            dataPanelPlaceholder.style.display = 'none';
            dataPanelContent.style.display = 'block';
            dataPanelContainer.classList.remove('data-panel-hidden');
        }

        function hideNodeDetails() {
            // dataPanelContainer.classList.add('data-panel-hidden'); // This hides it instantly
            dataPanelPlaceholder.style.display = 'flex';
            dataPanelContent.style.display = 'none';
        }

        // --- Geopolitical Sentiment Streamer ---
        const streamContainer = document.getElementById('data-stream');
        const streamItems = [
            "VECTOR SHIFT: Sino-US AI safety talks stall; US committee urges AISI to focus on China's AI threat.",
            "ALERT: US chip export restrictions create supply chain friction for advanced AI nodes.",
            "TREND: Sovereign wealth funds increasing allocation to private deep tech, incl. AI, quantum, and advanced manufacturing.",
            "ANALYSIS: a16z report shows builder energy shifting to Solana & Base; infrastructure costs are decreasing, enabling new consumer apps.",
            "SIGNAL: Anduril secures major new $642M CUAS contract with US Marine Corps.",
            "MARKET: SaaS valuation multiples contract to 3.3x NTM; investor caution persists amid economic uncertainty.",
            "POLICY: EU AI Act implementation is phased; ban on high-risk AI starts Feb 2025, with full compliance by mid-2026."
        ];
        let currentStreamItem = 0;

        function updateStream() {
            if(!streamContainer) return;
            const item = streamItems[currentStreamItem];
            streamContainer.innerHTML = `<div class="data-stream-item absolute inset-0 p-2">${item}<span class="inline-block border-r-2 border-green-400 h-3 w-0 ml-1 blinking-cursor"></span></div>`;
            currentStreamItem = (currentStreamItem + 1) % streamItems.length;
        }

        setInterval(updateStream, 8000);
        updateStream();
    });
    </script>
</body>
</html>